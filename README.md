# Testing a shopping cart application with webdriver.io using state machines

## Overview

We will be using [WebDriverIO](https://webdriver.io/), which is a browser test automation framework for Node.js. 

An eCommerce demo site called [Swag Labs](https://www.saucedemo.com/) is a simple shopping cart application with a 2 step checkout process. 

## Notable with the target test site

The demo application will log you out after 10 minutes. This is part of the design of the site and this functionaility is also tested in the state machine. 

## Existing Files

We've taken the example test auto-generated by WebDriverIO and adapted it to login to the demo site. Feel free to use, update or even delete this test as you desire. 

| File | Description |
| ------ | ------ |
| /test/specs/*.e2e.js | Each file tests a checkout path through the state machine|
| pageobjects/page.js | Base page object used for sharing across all pages |
| pageobjects/*.page.js | Page objects for the various pages |
| ./wdio.config.js | Base configuration file set to use Chrome as default browser |

## Running tests

1. Setup a new project in your preferred IDE with these project files
2. Run `npm install` to install the latest version (requires you have [node.js installed](https://nodejs.org/en/download/))
3. Run `npx wdio run ./wdio.conf.js` to run all the tests
4. Run `allure generate allure-results --clean && allure open` to generate a report
5. To clean up results from a prior run `rm -rf allure-results`